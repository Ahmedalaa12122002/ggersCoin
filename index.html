<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GgersCoin</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
/* ğŸ”’ Ù†ÙØ³ ØªØµÙ…ÙŠÙ…Ùƒ Ø¨Ø§Ù„Ø¸Ø¨Ø· */
body{
  background:#000;
  color:#fff;
  margin:0;
  font-family:system-ui;
  overflow:hidden;
}

#content{
  height:calc(100vh - 100px);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:20px;
}

.balance{
  font-size:22px;
  opacity:.9;
}

.game-btn{
  width:140px;
  height:140px;
  border-radius:50%;
  background:#141414;
  box-shadow:0 0 25px rgba(255,200,0,.35);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  transition:.25s;
}

.game-btn:active{
  transform:scale(.92);
}

.daily{
  padding:12px 26px;
  background:#111;
  border-radius:30px;
}
</style>
</head>

<body>

<div id="content">
  <div class="balance">Ø±ØµÙŠØ¯Ùƒ: <span id="balance">0</span></div>

  <div class="game-btn" onclick="play()">ğŸ® Ø§Ø¶ØºØ·</div>

  <div class="daily">ğŸ Ù…ÙƒØ§ÙØ£Ø© ÙŠÙˆÙ…ÙŠØ©</div>
</div>

<script>
const tg = Telegram.WebApp;
tg.ready();

const userId = tg.initDataUnsafe.user.id;

fetch("/api/init",{
  method:"POST",
  headers:{"Content-Type":"application/json"},
  body:JSON.stringify({user_id:userId})
})
.then(r=>r.json())
.then(d=>balance.innerText=d.balance);

function play(){
  fetch("/api/play",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({user_id:userId})
  })
  .then(r=>r.json())
  .then(d=>balance.innerText=d.balance);
}
</script>

</body>
</html>
