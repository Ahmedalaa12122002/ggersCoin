<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù†Ù‚Ø§Ø·ÙŠ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0f172a;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.card{
  background:#1e293b;
  padding:25px;
  border-radius:14px;
  width:90%;
  max-width:360px;
  text-align:center;
}
.balance{
  font-size:38px;
  margin:10px 0;
}
.timer{
  margin:10px 0;
  color:#94a3b8;
}
button{
  width:100%;
  padding:14px;
  font-size:18px;
  border:none;
  border-radius:10px;
  background:#22c55e;
  color:#000;
}
button:disabled{
  background:#555;
  color:#ccc;
}
</style>
</head>

<body>

<div class="card">
  <h2>ðŸ’° Ù†Ù‚Ø§Ø·Ùƒ</h2>
  <div class="balance" id="points">0</div>
  <div class="timer" id="timer">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø±Ø¨Ø­</div>
  <button id="btn" onclick="earn()">Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ø·Ø©</button>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

// Ù…Ø­Ø§ÙƒØ§Ø© ÙÙ‚Ø· (Front-end)
let points = 0;
let wait = 0;
const btn = document.getElementById("btn");
const timer = document.getElementById("timer");
const pointsEl = document.getElementById("points");

function earn(){
  points++;
  pointsEl.innerText = points;
  wait = 300; // 5 Ø¯Ù‚Ø§Ø¦Ù‚
  btn.disabled = true;
  countdown();
}

function countdown(){
  const i = setInterval(()=>{
    if(wait <= 0){
      clearInterval(i);
      timer.innerText = "Ø¬Ø§Ù‡Ø² Ù„Ù„Ø±Ø¨Ø­";
      btn.disabled = false;
    }else{
      const m = Math.floor(wait / 60);
      const s = wait % 60;
      timer.innerText = `Ø§Ù†ØªØ¸Ø± ${m}:${String(s).padStart(2,'0')}`;
      wait--;
    }
  },1000);
}
</script>

</body>
</html>
